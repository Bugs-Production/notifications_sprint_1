# Сервис нотификаций

## Описание
Сервис предназначен для обработки и отправки различных типов уведомлений через API. Он поддерживает массовые рассылки, персонализированные сообщения и кастомные уведомления, создаваемые через админку.

Сервис обрабатывает три вида уведомлений:

- **Массовые**: Отправляются большому количеству пользователей одновременно, например, рассылки с новостями или акциями.
- **Персональные**: Индивидуальные уведомления для конкретного пользователя, такие как подтверждения регистрации, рекомендации фильмов или уведомления о новых лайках.
- **Кастомные**: Создаются вручную через административную панель для определенных групп пользователей. Администраторы могут настраивать содержание и получателей таких уведомлений.

## Документация

Схема приложена в [architecture](architecture/notification_architecture.png)

## Стек технологий

- **FastAPI**: Фреймворк для создания API. Используется для обработки мгновенных сообщений от других сервисов и выступает в качестве админки (с CRUD ручками)
- **Nginx**: Веб-сервер, используемый для обработки запросов и балансировки нагрузки.
- **Docker**: Используется для контейнеризации, деплоя и запуска проекта.
- **Celery**: Фреймворк для выполнения задач в фоновом режиме, а также для периодических запланированных задач.
- **RabbitMQ**: Брокер для Celery.
- **Brevo**: API-сервис для отправки писем.

## Запуск проекта

Клонировать репозиторий.

Добавить переменные окружения
```
cp .env.example .env
```
Запустить docker-compose:
```
make build
make start
```

Для остановки контейнеров 
```
make stop
```

Накатить миграции
```
make migrate
```